{% extends "base.html" %}

{% block title %}Person{% endblock title %}

{% block content %}
    <h1>{{ person }}</h1>
    <p>Name: {{ person }}</p>
    {% if person.birth_place %}
        <p>Birth Place: {{ person.birth_place }}</p>
    {% endif %}
    {% if person.birth_date %}
        <p>Birth Date: {{ person.birth_date }}</p>
    {% endif %}
    {% if person.death_place %}
        <p>Death Place: {{ person.death_place }}</p>
    {% endif %}
    {% if person.death_date %}
        <p>Death Date: {{ person.death_date }}</p>
    {% endif %}
    {% if person.death_cause %}
        <p>Death Cause: {{ person.death_cause }}</p>
    {% endif %}
    <h2>Parents</h2>
    <p>Father: {% if father %}<a href="{% url 'person' father.id %}">{{ father.get_name_years }}</a>{% else %}-{% endif %}</p>
    <p>Mother: {% if mother %}<a href="{% url 'person' mother.id %}">{{ mother.get_name_years }}</a>{% else %}-{% endif %}</p>
    <h2>Siblings</h2>
    {% if siblings %}
        <ul>
        {% for sibling in siblings %}
            <li><p><a href="{% url 'person' sibling.indi.id %}">{{ sibling.indi.get_name_years }}</a></p></li>
        {% endfor %}
        </ul>
    {% else %}
        <p>No siblings</p>
    {% endif %}
    <h2>Families</h2>
    {% if families %}
        {% for family in families %}
            <h3>Family {{forloop.counter }}</h3>
            <p>Partner: {% if family.partner %}<a href="{% url 'person' family.partner.id %}">{{ family.partner.get_name_years }}</a>{% else %}-{% endif %}</p>
            {% if family.children %}
                <p>Children:</p>
                <ul>
                {% for child in family.children %}
                    <li><p><a href="{% url 'person' child.indi.id %}">{{ child.indi.get_name_years }}</a></p></li>
                {% endfor %}
                </ul>
            {% endif %}
        {% endfor %}
    {% endif %}
{% endblock content %}

